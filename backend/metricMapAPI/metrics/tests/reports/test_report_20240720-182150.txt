Ran 30 tests in 9.641 seconds

=== Starting migration
Operations to perform:
  Apply all migrations: admin, auth, authtoken, contenttypes, metrics, sessions
Running migrations:
  Applying contenttypes.0001_initial...
 OK
  Applying auth.0001_initial...
 OK
  Applying admin.0001_initial...
 OK
  Applying admin.0002_logentry_remove_auto_add...
 OK
  Applying admin.0003_logentry_add_action_flag_choices...
 OK
  Applying contenttypes.0002_remove_content_type_name...
 OK
  Applying auth.0002_alter_permission_name_max_length...
 OK
  Applying auth.0003_alter_user_email_max_length...
 OK
  Applying auth.0004_alter_user_username_opts...
 OK
  Applying auth.0005_alter_user_last_login_null...
 OK
  Applying auth.0006_require_contenttypes_0002...
 OK
  Applying auth.0007_alter_validators_add_error_messages...
 OK
  Applying auth.0008_alter_user_username_max_length...
 OK
  Applying auth.0009_alter_user_last_name_max_length...
 OK
  Applying auth.0010_alter_group_name_max_length...
 OK
  Applying auth.0011_update_proxy_permissions...
 OK
  Applying auth.0012_alter_user_first_name_max_length...
 OK
  Applying authtoken.0001_initial...
 OK
  Applying authtoken.0002_auto_20160226_1747...
 OK
  Applying authtoken.0003_tokenproxy...
 OK
  Applying authtoken.0004_alter_tokenproxy_options...
 OK
  Applying metrics.0001_initial...
 OK
  Applying metrics.0002_alter_actionremark_tenant_alter_anomaly_tenant_and_more...
 OK
  Applying sessions.0001_initial...
 OK
FEEEEEFEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE.E.EEE.EE
======================================================================
ERROR: test_analyze_metric (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_authentication_required (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 255, in test_authentication_required
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_authentication_required (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_create_action_remark (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 140, in test_create_action_remark
    url = self.get_client_project_url('metric-action_remarks', pk=self.metric.pk)
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 42, in get_client_project_url
    return reverse(viewname, kwargs={'client__pk': client__pk, 'project__pk': project__pk, **kwargs})
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/urls/base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/urls/resolvers.py", line 851, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'metric-action_remarks' not found. 'metric-action_remarks' is not a valid view function or pattern name.

======================================================================
ERROR: test_create_action_remark (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_create_dashboard (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_create_experiment (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 185, in test_create_experiment
    response = self.client.post(url, data)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 295, in post
    response = super().post(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 209, in post
    return self.generic('POST', path, data, content_type, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_create_experiment (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_create_metric (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 90, in test_create_metric
    response = self.client.post(url, data)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 295, in post
    response = super().post(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 209, in post
    return self.generic('POST', path, data, content_type, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_create_metric (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_delete_metric (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 110, in test_delete_metric
    response = self.client.delete(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 319, in delete
    response = super().delete(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 221, in delete
    return self.generic('DELETE', path, data, content_type, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_delete_metric (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_categories (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 190, in test_get_categories
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_get_categories (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_client_detail (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 52, in test_get_client_detail
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_get_client_detail (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_clients_list (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 46, in test_get_clients_list
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_get_clients_list (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_connections (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 200, in test_get_connections
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_get_connections (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_dashboards (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 160, in test_get_dashboards
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_get_dashboards (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_experiments (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 174, in test_get_experiments
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_get_experiments (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_historical_data (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 115, in test_get_historical_data
    url = self.get_client_project_url('historical_data', metric_pk=self.metric.pk)
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 42, in get_client_project_url
    return reverse(viewname, kwargs={'client__pk': client__pk, 'project__pk': project__pk, **kwargs})
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/urls/base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/urls/resolvers.py", line 851, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'historical_data' not found. 'historical_data' is not a valid view function or pattern name.

======================================================================
ERROR: test_get_historical_data (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_metric_action_remarks (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 135, in test_get_metric_action_remarks
    url = self.get_client_project_url('metric-action_remarks', pk=self.metric.pk)
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 42, in get_client_project_url
    return reverse(viewname, kwargs={'client__pk': client__pk, 'project__pk': project__pk, **kwargs})
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/urls/base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/urls/resolvers.py", line 851, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'metric-action_remarks' not found. 'metric-action_remarks' is not a valid view function or pattern name.

======================================================================
ERROR: test_get_metric_action_remarks (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_metric_connections (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 131, in test_get_metric_connections
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_get_metric_connections (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_metric_detail (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 76, in test_get_metric_detail
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_get_metric_detail (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_metric_reports (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 155, in test_get_metric_reports
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_get_metric_reports (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_metric_targets (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 150, in test_get_metric_targets
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_get_metric_targets (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_metrics_list (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 70, in test_get_metrics_list
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_get_metrics_list (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_project_detail (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 63, in test_get_project_detail
    url = self.get_client_project_url('project-detail')
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 42, in get_client_project_url
    return reverse(viewname, kwargs={'client__pk': client__pk, 'project__pk': project__pk, **kwargs})
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/urls/base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/urls/resolvers.py", line 851, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'project-detail' with keyword arguments '{'client__pk': 2, 'project__pk': 21}' not found. 6 pattern(s) tried: ['api/clients/(?P<client__pk>[^/.]+)/projects/(?P<pk>[^/.]+)/$', 'api/clients/(?P<client__pk>[^/.]+)/projects/(?P<pk>[^/.]+)/$', 'api/clients/(?P<client__pk>[^/.]+)/projects/(?P<pk>[^/.]+)/$', 'api/clients/(?P<client__pk>[^/.]+)/projects/(?P<pk>[^/.]+)/$', 'api/clients/(?P<client__pk>[^/.]+)/projects/(?P<pk>[^/.]+)/$', 'api/clients/(?P<client__pk>[^/.]+)/projects/(?P<pk>[^/.]+)/$']

======================================================================
ERROR: test_get_project_detail (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_projects_list (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 57, in test_get_projects_list
    url = self.get_client_project_url('project-list')
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 42, in get_client_project_url
    return reverse(viewname, kwargs={'client__pk': client__pk, 'project__pk': project__pk, **kwargs})
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/urls/base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/urls/resolvers.py", line 851, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'project-list' with keyword arguments '{'client__pk': 2, 'project__pk': 22}' not found. 6 pattern(s) tried: ['api/clients/(?P<client__pk>[^/.]+)/projects/$', 'api/clients/(?P<client__pk>[^/.]+)/projects/$', 'api/clients/(?P<client__pk>[^/.]+)/projects/$', 'api/clients/(?P<client__pk>[^/.]+)/projects/$', 'api/clients/(?P<client__pk>[^/.]+)/projects/$', 'api/clients/(?P<client__pk>[^/.]+)/projects/$']

======================================================================
ERROR: test_get_projects_list (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_reports (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 210, in test_get_reports
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_get_reports (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_tags (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 195, in test_get_tags
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_get_tags (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_get_targets (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 205, in test_get_targets
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_get_targets (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_health_check (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 215, in test_health_check
    response = self.client.get(url)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 288, in get
    response = super().get(path, data=data, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 205, in get
    return self.generic('GET', path, **r)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_health_check (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_metric_serializer (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_project_serializer (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_update_metric (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 104, in test_update_metric
    response = self.client.put(url, data)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 303, in put
    response = super().put(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 213, in put
    return self.generic('PUT', path, data, content_type, **extra)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/client.py", line 16, in generic
    kwargs["HTTP_HOST"] = self.tenant.get_primary_domain().domain
AttributeError: 'NoneType' object has no attribute 'domain'

======================================================================
ERROR: test_update_metric (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: test_url_patterns (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.ForeignKeyViolation: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 296, in _setup_and_call
    self._post_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1102, in _post_teardown
    self._fixture_teardown()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/test/testcases.py", line 1333, in _fixture_teardown
    connections[db_name].check_constraints()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/postgresql/base.py", line 385, in check_constraints
    cursor.execute("SET CONSTRAINTS ALL IMMEDIATE")
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.IntegrityError: insert or update on table "metrics_project" violates foreign key constraint "metrics_project_tenant_id_db4a1170_fk_metrics_client_id"
DETAIL:  Key (tenant_id)=(2) is not present in table "metrics_client".


======================================================================
ERROR: tearDownClass (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_utils.py", line 93, in tearDownClass
    super().tearDownClass()
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/test/cases.py", line 52, in tearDownClass
    cls.tenant.delete(force_drop=True)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django_tenants/models.py", line 162, in delete
    super().delete(*args, **kwargs)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/django/db/models/base.py", line 1176, in delete
    raise ValueError(
ValueError: Client object can't be deleted because its id attribute is set to None.

======================================================================
FAIL: test_analyze_metric (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 125, in test_analyze_metric
    response = self.client.post(url, data)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 295, in post
    response = super().post(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 208, in post
    data, content_type = self._encode_data(data, format, content_type)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 179, in _encode_data
    ret = renderer.render(data)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/renderers.py", line 911, in render
    assert not isinstance(value, dict), (
AssertionError: Test data contained a dictionary value for key 'params', but multipart uploads do not support nested data. You may want to consider using format='json' in this test case.

======================================================================
FAIL: test_create_dashboard (metrics.tests.test_apis.APITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/nadeemramli/workspace/github.com/nadeemramli/mapping-of-metrics/metric-map-app/backend/metricMapAPI/metrics/tests/test_apis.py", line 169, in test_create_dashboard
    response = self.client.post(url, data)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 295, in post
    response = super().post(
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 208, in post
    data, content_type = self._encode_data(data, format, content_type)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/test.py", line 179, in _encode_data
    ret = renderer.render(data)
  File "/home/nadeemramli/.pyenv/versions/3.10.7/lib/python3.10/site-packages/rest_framework/renderers.py", line 911, in render
    assert not isinstance(value, dict), (
AssertionError: Test data contained a dictionary value for key 'layout', but multipart uploads do not support nested data. You may want to consider using format='json' in this test case.

----------------------------------------------------------------------
Ran 30 tests in 9.640s

FAILED (failures=2, errors=56)

Test Result: Failure
Errors: 56
Failures: 2
